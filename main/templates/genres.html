{% extends 'base.html' %}
{% block content %}

<main class="container py-5">

    {% for item in genres_with_books %}

    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2 style="color:#3e2c1c;">
            {{ item.genre.title }}
        </h2>

        <a href="{% url 'view_genre' item.genre.id %}" class="btn btn-outline-dark"> Смотреть все </a>
    </div>

    <div class="row g-4 mb-3">
        {% for book in item.books|slice:":4" %}
        <div class="col-6 col-md-3">
            <div class="book-card p-3 text-center">
                <a href="{% url 'book_view' book.id %}">
                    <img src="{{ book.image.url }}"
                        class="img-fluid mb-2"
                        style="height:200px; object-fit:cover;">
                </a>

                <h5 class="mt-2">
                    <a href="{% url 'book_view' book.id %}"
                    class="text-dark text-decoration-none">
                        {{ book.title }}
                    </a>
                </h5>

                <p class="text-muted small">{{ book.autor }}</p>
            </div>
        </div>
        {% endfor %}
    </div>

    {% endfor %}

</main>

{% endblock %}
